* create regions in target dataset
ALIAS(r,rr);

* map target regions to source regions
SET rmap(rr,r);
rmap(r,r) = yes;

*   77 sector disagg
*   The following has been edited to run the bluenote code and create a disaggregated 77 sector-level dataset
* map target sectors to source sectors

SET ss "Sectors in the target dataset" /

	oil	"Petroleum refineries",
	cng	"Crude oil and natural gas extraction",
    col	"Coal mining",
    ele	"Electric power generation, transmission, and distribution",
    con	"Construction",
    air "Air transportation",
    trn "Rail transportation",
    wtt "Water transportation",
    trk "Truck transportation",
    grd "Transit and ground passenger transportation",
    pip "Pipeline transportation",
    otr "Other transportation and support activities",
    uti "Other utilities",
    che "Chemical products",
    ppd "Paper products",
    nmp "Nonmetallic mineral products",
    pla "Plastics and rubber products",
    min "Other mining",
    mot "Motor vehicles, bodies and trailers, and parts manufacturing",
    pmt "Primary metals",
    alu "Aluminium",
    fmt "Fabricated metal products",
    fbp "Food and beverage and tobacco products",
    sec "Securities, commodity contracts, and investments",
    eec "Electrical equipment, appliances, and components",
    pri "Printing and related support activities",
    tex "Textile mills and textile product mills",
    mch "Machinery",
    wpd "Wood products",
    fpd "Furniture and related products",
    ote "Other transportation equipment",
    mmf "Miscellaneous manufacturing",
    pet "Other petroleum based manufacturing",
    smn "Support activities for mining",
    alt "Apparel and leather and allied products",
    fof "Forestry, fishing, and related activities",
    cep "Computer and electronic products",
    ore "Other real estate",
    dat "Data processing, internet publishing, and other information",
    wst "Waste management and remediation services",
    brd "Broadcasting and telecommunications",
    res "Food services and drinking places",
    wrh "Warehousing and storage",
    fin "Funds, trusts, and other financial vehicles",
    rec "Amusements, gambling, and recreation industries",
    edu "Educational services",
    tsv "Miscellaneous professional, scientific, and technical services",
    amd "Accommodation",
    osv "Other services, except government",
    pub "Publishing industries, except internet (includes software)",
    hos "Hospitals",
    adm "Administrative and support services",
    nrs "Nursing and residential care facilities",
    rnt "Rental and leasing services and lessors of intangible assets",
    soc "Social assistance",
    art "Performing arts, spectator sports, museums, and related activit",
    man "Management of companies and enterprises",
    amb "Ambulatory health care services",
    com "Computer systems design and related services",
    bnk "Federal Reserve banks, credit intermediation, and related activ",
    mov "Motion picture and sound recording industries",
    leg "Legal services",
    ins "Insurance carriers and related activities",
    hou "Housing",
    wht "Wholesale trade",
    mvt "Motor vehicle and parts dealers",
    fbt "Food and beverage stores",
    gmt "General merchandise stores",
    ott "Other retail",
    fdd "Federal general government (defense)",
    fnd "Federal general government (nondefense)",
    fen "Federal government enterprises",
    slg "State and local general government",
    sle "State and local government enterprises",
*    use "Scrap, used and secondhand goods",
*    oth "Noncomparable imports and rest-of-the-world adjustment",
    cmt "Cement",
    gla "Glass",
    agr "Farms",
    ias "Iron and Steel"
/;

* left is 71, right is 71+ (80ish)
SET smap(ss,s) "Mapping of target sectors ss and source sectors s" /
		oil.ref_pet "Petroleum refineries",
		cng.oil 	"Oil and natural gas extraction",
*		cng.cng "Oil and natural gas extraction",
		ele.ele_uti "Electricity generation, transmission, and distribution",
		col.col_min "Coal mining",
		con.con 	"Construction",

		cmt.cmt_nmp "Cement",
        gla.gla_nmp "Glass",
        alu.alu_pmt "Aluminum product manufacturing from purchased aluminum (33131B)",
        alu.sme_pmt "Secondary smelting and alloying of aluminum (331314)",
        alu.ala_pmt "Alumina refining and primary aluminum production (331313)",
        ias.irn_pmt "Iron and steel mills and ferroalloy manufacturing (331110)",
        ias.stl_pmt "Steel product manufacturing from purchased steel (331200)",

        air.air	"Air transportation",
        trn.trn	"Rail transportation",
        wtt.wtt	"Water transportation",
        trk.trk	"Truck transportation",
        grd.grd	"Transit and ground passenger transportation",
        pip.pip	"Pipeline transportation",
        otr.otr	"Other transportation and support activities",

        uti.uti	"Other utilities",
        che.che	"Chemical products",
        ppd.ppd	"Paper products",
        nmp.nmp	"Nonmetallic mineral products",
        agr.agr	"Farms",
        pla.pla	"Plastics and rubber products",
        min.min	"Other mining",
        mot.mot	"Motor vehicles, bodies and trailers, and parts manufacturing",
        pmt.pmt	"Primary metals",
        fmt.fmt	"Fabricated metal products",
        fbp.fbp	"Food and beverage and tobacco products",
        sec.sec	"Securities, commodity contracts, and investments",
        eec.eec	"Electrical equipment, appliances, and components",
        pri.pri	"Printing and related support activities",
        tex.tex	"Textile mills and textile product mills",
        mch.mch	"Machinery",
        wpd.wpd	"Wood products",

        fpd.fpd	"Furniture and related products",
        ote.ote	"Other transportation equipment",
        mmf.mmf	"Miscellaneous manufacturing",
        pet.pet	"Other petroleum based manufacturing",
        smn.smn	"Support activities for mining",
        alt.alt	"Apparel and leather and allied products",
        fof.fof	"Forestry, fishing, and related activities",
        cep.cep	"Computer and electronic products",

        ore.ore	"Other real estate",
        dat.dat	"Data processing, internet publishing, and other information",
        wst.wst	"Waste management and remediation services",
        brd.brd	"Broadcasting and telecommunications",
        res.res	"Food services and drinking places",
        wrh.wrh	"Warehousing and storage",
        fin.fin	"Funds, trusts, and other financial vehicles",
        rec.rec	"Amusements, gambling, and recreation industries",
        edu.edu	"Educational services",
        tsv.tsv	"Miscellaneous professional, scientific, and technical services",
        amd.amd	"Accommodation",
        osv.osv	"Other services, except government",
        pub.pub	"Publishing industries, except internet (includes software)",
        hos.hos	"Hospitals",
        adm.adm	"Administrative and support services",
        nrs.nrs	"Nursing and residential care facilities",
        rnt.rnt	"Rental and leasing services and lessors of intangible assets",
        soc.soc	"Social assistance",
        art.art	"Performing arts, spectator sports, museums, and related activity",
        man.man	"Management of companies and enterprises",
        amb.amb	"Ambulatory health care services",
        com.com	"Computer systems design and related services",
        bnk.bnk	"Federal Reserve banks, credit intermediation, and related activity",
        mov.mov	"Motion picture and sound recording industries",
        leg.leg	"Legal services",
        ins.ins	"Insurance carriers and related activities",
        hou.hou	"Housing",

        wht.wht	"Wholesale trade",
        mvt.mvt	"Motor vehicle and parts dealers",
        fbt.fbt	"Food and beverage stores",
        gmt.gmt	"General merchandise stores",
        ott.ott	"Other retail",
        fdd.fdd	"Federal general government (defense)",
        fnd.fnd	"Federal general government (nondefense)",
        fen.fen	"Federal government enterprises",
        slg.slg	"State and local general government",
        sle.sle	"State and local government enterprises" /;
*        use.use	"Scrap, used and secondhand goods",
*        oth.oth	"Noncomparable imports and rest-of-the-world adjustment" /;

SET mm "Margins in the target dataset" /
		trn	"Transport margin",
		trd	"Retail margin" /;


SET	mmap(mm,m) "Mapping of target margins mm and source margins m" /
		trn.trn		"Transport margin",
		trd.trd		"Retail margin" /;